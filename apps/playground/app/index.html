<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="ONEDOT Framework - Next-generation reactive JavaScript framework playground">
  <meta name="keywords" content="javascript, framework, reactive, frontend, web development">
  <meta name="author" content="ONEDOT Framework">
  
  <title>üî• ONEDOT Framework Playground</title>
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3Eüî•%3C/text%3E%3C/svg%3E">
  
  <!-- CSS Reset and Base Styles -->
  <style>
    /* Modern CSS Reset */
    *, *::before, *::after {
      box-sizing: border-box;
    }
    
    * {
      margin: 0;
    }
    
    html {
      scroll-behavior: smooth;
    }
    
    body {
      line-height: 1.5;
      -webkit-font-smoothing: antialiased;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      color: #1a202c;
    }
    
    img, picture, video, canvas, svg {
      display: block;
      max-width: 100%;
    }
    
    input, button, textarea, select {
      font: inherit;
    }
    
    /* Loading Screen */
    .loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity 0.5s ease;
    }
    
    .loading-screen.hidden {
      opacity: 0;
      pointer-events: none;
    }
    
    .spinner {
      width: 40px;
      height: 40px;
      border: 4px solid rgba(255, 255, 255, 0.3);
      border-top: 4px solid white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 16px;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .loading-text {
      color: white;
      font-size: 18px;
      font-weight: 500;
    }
    
    /* App Container */
    #app {
      opacity: 0;
      transition: opacity 0.5s ease;
      background: white;
      min-height: 100vh;
      position: relative;
    }
    
    #app.loaded {
      opacity: 1;
    }
    
    /* Responsive Design */
    @media (max-width: 768px) {
      body {
        font-size: 14px;
      }
    }
    
    /* Custom Scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
    }
    
    ::-webkit-scrollbar-track {
      background: #f1f1f1;
    }
    
    ::-webkit-scrollbar-thumb {
      background: #888;
      border-radius: 4px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: #555;
    }
    
    /* Focus Styles */
    *:focus {
      outline: 2px solid #3b82f6;
      outline-offset: 2px;
    }
    
    /* Print Styles */
    @media print {
      .loading-screen {
        display: none;
      }
      
      #app {
        opacity: 1;
      }
    }
  </style>
  
  <!-- Preload Critical Resources -->
  <link rel="preload" href="./index.ts" as="script" type="text/typescript">
  
  <!-- Progressive Web App Meta -->
  <meta name="theme-color" content="#3b82f6">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="ONEDOT Playground">
  
  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="ONEDOT Framework Playground">
  <meta property="og:description" content="Experience the next-generation reactive JavaScript framework">
  <meta property="og:type" content="website">
  <meta property="og:image" content="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 630'%3E%3Crect width='1200' height='630' fill='%233b82f6'/%3E%3Ctext x='600' y='350' text-anchor='middle' fill='white' font-size='72' font-family='Arial'%3EONEDOT Framework%3C/text%3E%3C/svg%3E">
  
  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="ONEDOT Framework Playground">
  <meta name="twitter:description" content="Experience the next-generation reactive JavaScript framework">
  
  <!-- Performance Monitoring -->
  <script>
    // Performance timing
    performance.mark('html-start');
    
    // Error tracking
    window.addEventListener('error', (e) => {
      console.error('Global error:', e.error);
    });
    
    window.addEventListener('unhandledrejection', (e) => {
      console.error('Unhandled promise rejection:', e.reason);
    });
    
    // Load time tracking
    window.addEventListener('load', () => {
      performance.mark('html-load');
      setTimeout(() => {
        const navigation = performance.getEntriesByType('navigation')[0];
        console.log('üìä Page Load Performance:', {
          domContentLoaded: navigation.domContentLoadedEventEnd - navigation.domContentLoadedEventStart,
          loadComplete: navigation.loadEventEnd - navigation.loadEventStart,
          total: navigation.loadEventEnd - navigation.fetchStart
        });
      }, 0);
    });
  </script>
</head>
<body>
  <!-- Loading Screen -->
  <div id="loading-screen" class="loading-screen">
    <div class="spinner"></div>
    <div class="loading-text">Loading ONEDOT Framework...</div>
  </div>

  <!-- Main Application Container -->
  <div id="app" role="main" aria-label="ONEDOT Framework Playground Application">
    <!-- App content will be rendered here by the framework -->
    <noscript>
      <div style="text-align: center; padding: 40px; font-family: Arial, sans-serif;">
        <h1>üî• ONEDOT Framework</h1>
        <p>This application requires JavaScript to run.</p>
        <p>Please enable JavaScript in your browser and reload the page.</p>
      </div>
    </noscript>
  </div>

  <!-- Framework Bootstrap -->
  <script type="module">
    performance.mark('framework-init');
    
    // Hide loading screen once app is ready
    function hideLoadingScreen() {
      const loadingScreen = document.getElementById('loading-screen');
      const appContainer = document.getElementById('app');
      
      if (loadingScreen && appContainer) {
        loadingScreen.classList.add('hidden');
        appContainer.classList.add('loaded');
        
        setTimeout(() => {
          loadingScreen.remove();
        }, 500);
      }
    }
    
    // Auto-hide loading screen after maximum wait time
    setTimeout(hideLoadingScreen, 3000);
    
    // Load the main application
    try {
      import('./index.ts').then(() => {
        performance.mark('framework-ready');
        hideLoadingScreen();
        
        console.log('üöÄ ONEDOT Framework loaded successfully');
      }).catch((error) => {
        console.error('‚ùå Failed to load ONEDOT Framework:', error);
        hideLoadingScreen();
        
        // Show error message
        const appContainer = document.getElementById('app');
        if (appContainer) {
          appContainer.innerHTML = `
            <div style="text-align: center; padding: 40px; color: #ef4444;">
              <h1>‚ö†Ô∏è Loading Error</h1>
              <p>Failed to load the ONEDOT Framework.</p>
              <p>Please check the console for details.</p>
              <button onclick="location.reload()" style="padding: 10px 20px; margin-top: 20px; background: #3b82f6; color: white; border: none; border-radius: 4px; cursor: pointer;">
                Reload Page
              </button>
            </div>
          `;
        }
      });
    } catch (error) {
      console.error('‚ùå Framework initialization error:', error);
      hideLoadingScreen();
    }
  </script>

  <!-- Development Tools -->
  <script>
    // Development helper functions
    if (location.hostname === 'localhost' || location.hostname === '127.0.0.1') {
      window.__ONEDOT_DEV__ = {
        reload: () => location.reload(),
        clearStorage: () => {
          localStorage.clear();
          sessionStorage.clear();
          console.log('üßπ Storage cleared');
        },
        performance: () => {
          console.table(performance.getEntriesByType('mark'));
          console.table(performance.getEntriesByType('measure'));
        }
      };
      
      console.log('üîß Development tools available at window.__ONEDOT_DEV__');
    }
  </script>

  <!-- Service Worker Registration (for PWA capabilities) -->
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js').then((registration) => {
        console.log('‚úÖ Service Worker registered:', registration);
      }).catch((error) => {
        console.log('‚ÑπÔ∏è Service Worker registration skipped:', error.message);
      });
    }
  </script>
</body>
</html>
